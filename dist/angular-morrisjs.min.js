!function(e,i,t){"use strict";var r=e.module("angular-morrisjs",[]);r.factory("Morris",[function(){return{b:i.Bar,l:i.Line,a:i.Area,d:i.Donut}}]),r.service("MorrisOptionsParser",["$parse",function(i){this.parseValues=function(i,r,s){if(e.isDefined(r)||(r=[]),!e.isDefined(i))return t;if(-1!==r.indexOf(i))return i;if(s!==!0){if("true"===i)return!0;if("false"===i)return!1}return t},this.getBasicOptions=function(e,t,r){return{element:e,data:i(t.data)(r),additional:{resize:this.parseValues(t.resize)}}},this.getValuesOptions=function(e,t){return{xkey:e.xkey,ykeys:i(e.ykeys)(t),labels:i(e.labels)(t),hideHover:this.parseValues(e.hideHover,["always","auto"]),asFunctions:{hoverCallback:i(e.hoverCallback)(t)}}},this.getGridOptions=function(e){return{axes:this.parseValues(e.axes),grid:this.parseValues(e.grid),additional:{gridTextColor:e.gridTextColor,gridTextSize:e.gridTextSize,gridTextFamily:e.gridTextFamily,gridTextWeight:e.gridTextWeight}}},this.getLinesOptions=function(e,t){return{lineColors:i(e.lineColors)(t),lineWidth:e.lineWidth,pointSize:e.pointSize,pointFillColors:i(e.pointFillColors)(t),pointStrokeColors:e.pointStrokeColors,ymax:e.ymax,ymin:e.ymin,smooth:this.parseValues(e.smooth),parseTime:this.parseValues(e.parseTime),postUnits:e.postUnits,preUnits:e.preUnits,xLabels:e.xLabels,xLabelAngle:e.xLabelAngle,goals:i(e.goals)(t),events:i(e.events)(t),additional:{fillOpacity:e.fillOpacity,goalStrokeWidth:e.goalStrokeWidth,goalLineColors:e.goalLineColors,eventStrokeWidth:e.eventStrokeWidth,eventLineColors:e.eventLineColors,continuousLine:this.parseValues(e.continuousLine)},asFunctions:{dateFormat:i(e.dateFormat)(t),xLabelFormat:i(e.xLabelFormat)(t)}}},this.parse=function(i){return e.forEach(i.asFunctions,function(t,r){e.isFunction(t)&&(i[r]=t)}),e.forEach(i.additional,function(t,r){e.isDefined(t)&&(i[r]=t)}),i},this.addCallbackForGraph=function(t,r,s){if(e.isDefined(t.setGraph)){var a=i(t.setGraph)(r);e.isFunction(a)&&a(s)}}}]),r.directive("barChart",["$parse","Morris","MorrisOptionsParser",function(i,t,r){return{restrict:"AE",template:"<div></div>",replace:!0,link:function(s,a,n){var o,l={barColors:i(n.barColors)(s),stacked:r.parseValues(n.stacked)};e.extend(l,r.getBasicOptions(a,n,s),r.getValuesOptions(n,s),r.getGridOptions(n)),o=t.b(r.parse(l)),r.addCallbackForGraph(n,s,o)}}}]),r.directive("lineChart",["Morris","MorrisOptionsParser",function(i,t){return{restrict:"AE",template:"<div></div>",replace:!0,link:function(r,s,a){var n,o={};e.extend(o,t.getBasicOptions(s,a,r),t.getValuesOptions(a,r),t.getGridOptions(a),t.getLinesOptions(a,r)),n=i.l(t.parse(o)),t.addCallbackForGraph(a,r,n)}}}]),r.directive("areaChart",["Morris","MorrisOptionsParser",function(i,t){return{restrict:"AE",template:"<div></div>",replace:!0,link:function(r,s,a){var n,o={behaveLikeLine:t.parseValues(a.behaveLikeLine)};e.extend(o,t.getBasicOptions(s,a,r),t.getValuesOptions(a,r),t.getGridOptions(a),t.getLinesOptions(a,r)),n=i.a(t.parse(o)),t.addCallbackForGraph(a,r,n)}}}]),r.directive("donutChart",["$parse","Morris","MorrisOptionsParser",function(i,t,r){return{restrict:"AE",template:"<div></div>",replace:!0,link:function(s,a,n){var o,l={colors:i(n.colors)(s),asFunctions:{formatter:i(n.formatter)(s)}};e.extend(l,r.getBasicOptions(a,n,s)),o=t.d(r.parse(l)),r.addCallbackForGraph(n,s,o)}}}])}(window.angular,window.Morris);